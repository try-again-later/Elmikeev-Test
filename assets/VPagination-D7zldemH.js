import{e as O}from"./VTable-D9rlYJHr.js";import{aG as W,aH as Q,aI as j,C as H,aJ as w,W as q,A as J,aK as U,g as X,p as Y,F as Z,aL as ee,u as ae,o as te,R as ie,s as ne,r as D,aM as le,q as L,aw as B,G as P,b as se,c as p,h as k,M as S,K as I,d as E,n as re,aN as ue,t as oe,m as ve,aO as ce,v as de,w as fe,aP as ge,f as be,x as ye,al as N,ay as T}from"./index-D1QMmaq8.js";const F=new WeakMap;function Le(e,m,s={}){const{mode:_="replace",route:i=W(),router:v=Q(),transform:g}=s;let b=n=>n,R=n=>n;typeof g=="function"?b=g:g&&(g.get&&(b=g.get),g.set&&(R=g.set)),F.has(v)||F.set(v,new Map);const x=F.get(v);let c=i.query[e];O(()=>{c=void 0});let A;const r=j((n,u)=>(A=u,{get(){return n(),b(c!==void 0?c:w(m))},set(d){d=R(d),c!==d&&(c=d===w(m)?void 0:d,x.set(e,d===w(m)?void 0:d),u(),q(()=>{if(x.size===0)return;const C=Object.fromEntries(x.entries());x.clear();const{params:h,query:M,hash:$}=i;v[w(_)]({params:h,query:{...M,...C},hash:$})}))}}));return H(()=>i.query[e],n=>{c!==b(n)&&(c=n,A())},{flush:"sync"}),r}function me(){const e=J([]);U(()=>e.value=[]);function m(s,_){e.value[_]=s}return{refs:e,updateRef:m}}const he=Y({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:N,default:"$first"},prevIcon:{type:N,default:"$prev"},nextIcon:{type:N,default:"$next"},lastIcon:{type:N,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...ye(),...be(),...ge(),...fe(),...de(),...ce(),...ve({tag:"nav"}),...oe(),...ue({variant:"text"})},"VPagination"),pe=X()({name:"VPagination",props:he(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,m){let{slots:s,emit:_}=m;const i=Z(e,"modelValue"),{t:v,n:g}=ee(),{isRtl:b}=ae(),{themeClasses:R}=te(e),{width:x}=ie(),c=ne(-1);D(void 0,{scoped:!0});const{resizeRef:A}=le(a=>{if(!a.length)return;const{target:t,contentRect:l}=a[0],o=t.querySelector(".v-pagination__list > *");if(!o)return;const f=l.width,V=o.offsetWidth+parseFloat(getComputedStyle(o).marginRight)*2;c.value=d(f,V)}),r=L(()=>parseInt(e.length,10)),n=L(()=>parseInt(e.start,10)),u=L(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):c.value>=0?c.value:d(x.value,58));function d(a,t){const l=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(Number(((a-t*l)/t).toFixed(2))))}const C=L(()=>{if(r.value<=0||isNaN(r.value)||r.value>Number.MAX_SAFE_INTEGER)return[];if(u.value<=0)return[];if(u.value===1)return[i.value];if(r.value<=u.value)return B(r.value,n.value);const a=u.value%2===0,t=a?u.value/2:Math.floor(u.value/2),l=a?t:t+1,o=r.value-t;if(l-i.value>=0)return[...B(Math.max(1,u.value-1),n.value),e.ellipsis,r.value];if(i.value-o>=(a?1:0)){const f=u.value-1,V=r.value-f+n.value;return[n.value,e.ellipsis,...B(f,V)]}else{const f=Math.max(1,u.value-2),V=f===1?i.value:i.value-Math.ceil(f/2)+n.value;return[n.value,e.ellipsis,...B(f,V),e.ellipsis,r.value]}});function h(a,t,l){a.preventDefault(),i.value=t,l&&_(l,t)}const{refs:M,updateRef:$}=me();D({VPaginationBtn:{color:P(()=>e.color),border:P(()=>e.border),density:P(()=>e.density),size:P(()=>e.size),variant:P(()=>e.variant),rounded:P(()=>e.rounded),elevation:P(()=>e.elevation)}});const G=L(()=>C.value.map((a,t)=>{const l=o=>$(o,t);if(typeof a=="string")return{isActive:!1,key:`ellipsis-${t}`,page:a,props:{ref:l,ellipsis:!0,icon:!0,disabled:!0}};{const o=a===i.value;return{isActive:o,key:a,page:g(a),props:{ref:l,ellipsis:!1,icon:!0,disabled:!!e.disabled||Number(e.length)<2,color:o?e.activeColor:e.color,"aria-current":o,"aria-label":v(o?e.currentPageAriaLabel:e.pageAriaLabel,a),onClick:f=>h(f,a)}}}})),y=L(()=>{const a=!!e.disabled||i.value<=n.value,t=!!e.disabled||i.value>=n.value+r.value-1;return{first:e.showFirstLastPage?{icon:b.value?e.lastIcon:e.firstIcon,onClick:l=>h(l,n.value,"first"),disabled:a,"aria-label":v(e.firstAriaLabel),"aria-disabled":a}:void 0,prev:{icon:b.value?e.nextIcon:e.prevIcon,onClick:l=>h(l,i.value-1,"prev"),disabled:a,"aria-label":v(e.previousAriaLabel),"aria-disabled":a},next:{icon:b.value?e.prevIcon:e.nextIcon,onClick:l=>h(l,i.value+1,"next"),disabled:t,"aria-label":v(e.nextAriaLabel),"aria-disabled":t},last:e.showFirstLastPage?{icon:b.value?e.firstIcon:e.lastIcon,onClick:l=>h(l,n.value+r.value-1,"last"),disabled:t,"aria-label":v(e.lastAriaLabel),"aria-disabled":t}:void 0}});function z(){var t;const a=i.value-n.value;(t=M.value[a])==null||t.$el.focus()}function K(a){a.key===T.left&&!e.disabled&&i.value>Number(e.start)?(i.value=i.value-1,q(z)):a.key===T.right&&!e.disabled&&i.value<n.value+r.value-1&&(i.value=i.value+1,q(z))}return se(()=>p(e.tag,{ref:A,class:E(["v-pagination",R.value,e.class]),style:re(e.style),role:"navigation","aria-label":v(e.ariaLabel),onKeydown:K,"data-test":"v-pagination-root"},{default:()=>[k("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&k("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[s.first?s.first(y.value.first):p(S,I({_as:"VPaginationBtn"},y.value.first),null)]),k("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[s.prev?s.prev(y.value.prev):p(S,I({_as:"VPaginationBtn"},y.value.prev),null)]),G.value.map((a,t)=>k("li",{key:a.key,class:E(["v-pagination__item",{"v-pagination__item--is-active":a.isActive}]),"data-test":"v-pagination-item"},[s.item?s.item(a):p(S,I({_as:"VPaginationBtn"},a.props),{default:()=>[a.page]})])),k("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[s.next?s.next(y.value.next):p(S,I({_as:"VPaginationBtn"},y.value.next),null)]),e.showFirstLastPage&&k("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[s.last?s.last(y.value.last):p(S,I({_as:"VPaginationBtn"},y.value.last),null)])])]})),{}}});export{pe as V,Le as u};
