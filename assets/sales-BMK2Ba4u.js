import{d as p,u as g,a as f,V as _,b}from"./VTable-Dv59JrXc.js";import{a8 as F,i as V,aa as r,ab as o,d as e,af as v,ag as u,F as i,b as m,ac as w,ad as y,Z as l,ah as k}from"./index-DzEdZEeM.js";import"./VBtn-BMiwi3Se.js";function D(s){const t=new URL("https://elmikeev.185-236-23-37.sslip.io/api/sales");return t.searchParams.append("dateFrom",p(s.dateFrom)),t.searchParams.append("dateTo",p(s.dateTo)),t.searchParams.append("page",s.page.toString()),t.searchParams.append("limit",s.limit.toString()),t.searchParams.append("key","E6kUTYrYwZq2tN4QEtyzsbEBk3ie"),t}const P={class:"text-center"},B=F({__name:"sales",setup(s){const t=g("page","1",{transform:Number}),h=V(()=>D({dateFrom:new Date(Date.now()-1440*60*1e3*10),dateTo:new Date,page:t.value,limit:100}).href),{data:d}=f(h,{refetch:!0}).get().json();return(c,n)=>(o(),r(i,null,[n[2]||(n[2]=e("h1",null,"Продажи",-1)),u(d)!=null?(o(),r(i,{key:0},[m(_,{"fixed-header":"",striped:"even"},{default:w(()=>[n[1]||(n[1]=e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Штрих-код"),e("th",null,"Дата"),e("th",null,"Полная сумма"),e("th",null,"Скидка"),e("th",null,"Регион"),e("th",null,"Склад")])],-1)),e("tbody",null,[(o(!0),r(i,null,y(u(d).data,a=>(o(),r("tr",null,[e("td",null,l(a.sale_id),1),e("td",null,l(a.barcode),1),e("td",null,l(a.date),1),e("td",null,l(parseFloat(a.total_price).toFixed(2)),1),e("td",null,l(`${a.discount_percent}%`),1),e("td",null,l(a.region_name),1),e("td",null,l(a.warehouse_name),1)]))),256))])]),_:1,__:[1]}),e("div",P,[m(b,{modelValue:u(t),"onUpdate:modelValue":n[0]||(n[0]=a=>k(t)?t.value=a:null),length:u(d).meta.last_page,"total-visible":c.$vuetify.display.smAndDown?2:5},null,8,["modelValue","length","total-visible"])])],64)):v("",!0)],64))}});export{B as default};
