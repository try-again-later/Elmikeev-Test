import{d as p,u as f,a as g,V as b,b as y}from"./VTable-Dv59JrXc.js";import{a8 as V,i as _,aa as r,ab as o,d as e,af as v,ag as u,F as i,b as m,ac as w,ad as F,Z as s,ah as k}from"./index-DzEdZEeM.js";import"./VBtn-BMiwi3Se.js";function P(n){const t=new URL("https://elmikeev.185-236-23-37.sslip.io/api/incomes");return t.searchParams.append("dateFrom",p(n.dateFrom)),t.searchParams.append("dateTo",p(n.dateTo)),t.searchParams.append("page",n.page.toString()),t.searchParams.append("limit",n.limit.toString()),t.searchParams.append("key","E6kUTYrYwZq2tN4QEtyzsbEBk3ie"),t}const D={class:"text-center"},B=V({__name:"incomes",setup(n){const t=f("page","1",{transform:Number}),c=_(()=>P({dateFrom:new Date(Date.now()-1440*60*1e3*10),dateTo:new Date,page:t.value,limit:100}).href),{data:d}=g(c,{refetch:!0}).get().json();return(h,l)=>(o(),r(i,null,[l[2]||(l[2]=e("h1",null,"Доходы",-1)),u(d)!=null?(o(),r(i,{key:0},[m(b,{"fixed-header":"",striped:"even"},{default:w(()=>[l[1]||(l[1]=e("thead",null,[e("tr",null,[e("th",null,"Штрих-код"),e("th",null,"Дата"),e("th",null,"Дата закрытия"),e("th",null,"Количество"),e("th",null,"Склад")])],-1)),e("tbody",null,[(o(!0),r(i,null,F(u(d).data,a=>(o(),r("tr",null,[e("td",null,s(a.barcode),1),e("td",null,s(a.date),1),e("td",null,s(a.date_close),1),e("td",null,s(a.quantity),1),e("td",null,s(a.warehouse_name),1)]))),256))])]),_:1,__:[1]}),e("div",D,[m(y,{modelValue:u(t),"onUpdate:modelValue":l[0]||(l[0]=a=>k(t)?t.value=a:null),length:u(d).meta.last_page,"total-visible":h.$vuetify.display.smAndDown?2:5},null,8,["modelValue","length","total-visible"])])],64)):v("",!0)],64))}});export{B as default};
