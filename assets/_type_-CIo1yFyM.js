import{u as W,_ as X,a as Y,b as Z,c as h}from"./OrderAverageDiscounts.vue_vue_type_script_setup_true_lang-BdSEzNz3.js";import{av as ee,p as $,q as le,g as ae,F as te,G as S,o as oe,aw as se,ax as ne,a as re,k as ie,ay as ue,az as de,l as me,aA as ce,aB as fe,c as a,aC as ve,h as c,n as x,d as z,ah as ye,K as F,V as D,M as A,aD as Ve,t as pe,m as be,v as ke,aE as _e,aF as ge,w as Pe,e as Ce,aG as Se,f as xe,ai as ze,a1 as Fe,aH as De,a2 as Be,a3 as B,a4 as d,a8 as f,a9 as w,a5 as r,ap as y,a7 as V,aq as t,_ as T}from"./index-CUBrpC2I.js";import{V as m,a as k,b as p}from"./VSelect-2yHYKq4-.js";import"./useNProgress-CD9aLZ-6.js";import"./VList-ChWKIetX.js";import"./list-CwxKENw3.js";const we=ee("v-alert-title"),Te=$({iconSize:[Number,String],iconSizes:{type:Array,default:()=>[["x-small",10],["small",16],["default",24],["large",28],["x-large",32]]}},"iconSize");function $e(e,i){return{iconSize:le(()=>{const s=new Map(e.iconSizes),l=e.iconSize??i()??"default";return s.has(l)?s.get(l):l})}}const Ae=["success","info","warning","error"],Ie=$({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:ze,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>Ae.includes(e)},...xe(),...Se(),...Ce(),...Pe(),...Te(),...ge(),..._e(),...ke(),...be(),...pe(),...Ve({variant:"flat"})},"VAlert"),Ne=ae()({name:"VAlert",props:Ie(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,i){let{emit:o,slots:s}=i;const l=te(e,"modelValue"),u=S(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),{iconSize:n}=$e(e,()=>e.prominent?44:28),{themeClasses:I}=oe(e),{colorClasses:N,colorStyles:U,variantClasses:E}=se(()=>({color:e.color??e.type,variant:e.variant})),{densityClasses:R}=ne(e),{dimensionStyles:L}=re(e),{elevationClasses:M}=ie(e),{locationStyles:O}=ue(e),{positionClasses:q}=de(e),{roundedClasses:G}=me(e),{textColorClasses:j,textColorStyles:H}=ce(()=>e.borderColor),{t:K}=fe(),_=S(()=>({"aria-label":K(e.closeLabel),onClick(b){l.value=!1,o("click:close",b)}}));return()=>{const b=!!(s.prepend||u.value),J=!!(s.title||e.title),Q=!!(s.close||e.closable),g={density:e.density,icon:u.value,size:n.value};return l.value&&a(e.tag,{class:z(["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},I.value,N.value,R.value,M.value,q.value,G.value,E.value,e.class]),style:x([U.value,L.value,O.value,e.style]),role:"alert"},{default:()=>{var P,C;return[ve(!1,"v-alert"),e.border&&c("div",{key:"border",class:z(["v-alert__border",j.value]),style:x(H.value)},null),b&&c("div",{key:"prepend",class:"v-alert__prepend"},[s.prepend?a(D,{key:"prepend-defaults",disabled:!u.value,defaults:{VIcon:{...g}}},s.prepend):a(ye,F({key:"prepend-icon"},g),null)]),c("div",{class:"v-alert__content"},[J&&a(we,{key:"title"},{default:()=>{var v;return[((v=s.title)==null?void 0:v.call(s))??e.title]}}),((P=s.text)==null?void 0:P.call(s))??e.text,(C=s.default)==null?void 0:C.call(s)]),s.append&&c("div",{key:"append",class:"v-alert__append"},[s.append()]),Q&&c("div",{key:"close",class:"v-alert__close"},[s.close?a(D,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var v;return[(v=s.close)==null?void 0:v.call(s,{props:_.value})]}}):a(A,F({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},_.value),null)])]}})}}}),qe=Fe({__name:"[type]",setup(e){const i=De(),o=W();return(s,l)=>{const u=Be("v-date-input");return d(),B(T,null,[l[13]||(l[13]=c("h1",{class:"mb-8"},"Изменения по показателю по заказам",-1)),a(V,{class:"mb-2"},{default:r(()=>l[8]||(l[8]=[y("Текущий период:")])),_:1,__:[8]}),a(k,null,{default:r(()=>[a(m,{cols:"12",sm:"6"},{default:r(()=>[a(u,{label:"Начиная с даты",modelValue:t(o).currentPeriodDateFrom,"onUpdate:modelValue":l[0]||(l[0]=n=>t(o).currentPeriodDateFrom=n)},null,8,["modelValue"])]),_:1}),a(m,{cols:"12",sm:"6"},{default:r(()=>[a(u,{label:"Заканчивая датой",modelValue:t(o).currentPeriodDateTo,"onUpdate:modelValue":l[1]||(l[1]=n=>t(o).currentPeriodDateTo=n)},null,8,["modelValue"])]),_:1})]),_:1}),a(V,{class:"mb-2"},{default:r(()=>l[9]||(l[9]=[y("Предыдущий период:")])),_:1,__:[9]}),a(k,null,{default:r(()=>[a(m,{cols:"12",sm:"6"},{default:r(()=>[a(u,{label:"Начиная с даты",modelValue:t(o).previousPeriodDateFrom,"onUpdate:modelValue":l[2]||(l[2]=n=>t(o).previousPeriodDateFrom=n)},null,8,["modelValue"])]),_:1}),a(m,{cols:"12",sm:"6"},{default:r(()=>[a(u,{label:"Заканчивая датой",modelValue:t(o).previousPeriodDateTo,"onUpdate:modelValue":l[3]||(l[3]=n=>t(o).previousPeriodDateTo=n)},null,8,["modelValue"])]),_:1})]),_:1}),a(V,{class:"mb-2"},{default:r(()=>l[10]||(l[10]=[y("Фильтры:")])),_:1,__:[10]}),a(k,null,{default:r(()=>[a(m,{cols:"12",sm:"3"},{default:r(()=>[a(p,{modelValue:t(o).partNamesFilter,"onUpdate:modelValue":l[4]||(l[4]=n=>t(o).partNamesFilter=n),items:t(o).allPartNames,label:"Артикул",multiple:""},null,8,["modelValue","items"])]),_:1}),a(m,{cols:"12",sm:"3"},{default:r(()=>[a(p,{modelValue:t(o).categoryFilter,"onUpdate:modelValue":l[5]||(l[5]=n=>t(o).categoryFilter=n),items:t(o).allCategories,label:"Категория",multiple:""},null,8,["modelValue","items"])]),_:1}),a(m,{cols:"12",sm:"3"},{default:r(()=>[a(p,{modelValue:t(o).brandFilter,"onUpdate:modelValue":l[6]||(l[6]=n=>t(o).brandFilter=n),items:t(o).allBrands,label:"Бренд",multiple:""},null,8,["modelValue","items"])]),_:1}),a(m,{cols:"12",sm:"3"},{default:r(()=>[a(p,{modelValue:t(o).regionFilter,"onUpdate:modelValue":l[7]||(l[7]=n=>t(o).regionFilter=n),items:t(o).allRegions,label:"Регион",multiple:""},null,8,["modelValue","items"])]),_:1})]),_:1}),t(o).hasError?(d(),f(V,{key:0,class:"d-flex flex-column ga-4 align-center"},{default:r(()=>[l[12]||(l[12]=c("p",null,"Ошибка при загрузке данных",-1)),a(A,{onClick:t(o).retry},{default:r(()=>l[11]||(l[11]=[y("Попробовать ещё раз")])),_:1,__:[11]},8,["onClick"])]),_:1,__:[12]})):w("",!0),t(o).hasError?w("",!0):(d(),B(T,{key:1},[t(i).params.type=="sales"?(d(),f(X,{key:0,"show-full-table":!0})):t(i).params.type=="prices"?(d(),f(Y,{key:1,"show-full-table":!0})):t(i).params.type=="cancels"?(d(),f(Z,{key:2,"show-full-table":!0})):t(i).params.type=="average-discounts"?(d(),f(h,{key:3,"show-full-table":!0})):(d(),f(Ne,{key:4,density:"compact",text:"Неизвестный показатель",title:"Ошибка",type:"warning"}))],64))],64)}}});export{qe as default};
